Name: sdk-setup
Summary: SDK setup packages for Mer SDK
Description: Scripts, configurations and utilities to build Mer SDK and variants
Version: 0.44
Release: 1
Group: System/Base
License: GPL
BuildArch: noarch
URL: https://github.com/mer-tools/sdk-setup
Sources:
  - sdk-setup-%{version}.tar.gz
PkgBR:
  - systemd
Configure: none
Builder: none
SetupOptions: -q -n src
NoFiles: true
SubPackages:
  - Name: sdk-chroot
    AsWholeName: true
    Summary: Mer SDK files for the chroot variant
    Description: Contains the mer_sdk_chroot script and supporting configs
    Group: System/Base
    RequiresPre:
      - rpm
      - /bin/rm
    Conflicts:
      - sdk-vm
    Files:
      - /mer-sdk-chroot
      - /mer-bash-setup
      - '%{_bindir}/sdk-version'
      - '%{_sysconfdir}/mer-sdk-chroot'
  - Name: sdk-vm
    AsWholeName: true
    Summary: Mer SDK files for the VM variant
    Description: Contains the supporting configs for VMs
    Group: System/Base
    Conflicts:
      - sdk-chroot
    RequiresPost:
      - /bin/ln
    Requires:
      - sdk-utils
      - connman >= 1.14
      - virtualbox-guest-tools
      - openssh-server
    Files:
      - '%{_bindir}/sdk-version'
      - '%{_bindir}/sdk-info'
      - '%{_bindir}/sdk-setup-enginelan'
      - '%{_unitdir}/information.service'
      - '%{_unitdir}/sdk-enginelan.service'
      - '%{_unitdir}/host_targets.service'
      - '%{_unitdir}/home-mersdk.service'
      - '%{_unitdir}/etc-mersdk-share.service'
      - '%{_unitdir}/etc-ssh-authorized_keys.mount'
      - '%config %{_sysconfdir}/systemd/system/default.target'
      - '%config %{_sysconfdir}/ssh/ssh-env.conf'
      - '%config %{_sysconfdir}/ssh/sshd_config_engine'
      - '%config %{_sysconfdir}/mersdk.env.systemd'
      - '%dir %{_sysconfdir}/ssh/authorized_keys'
      - '%dir /home/deploy'
      - '%{_sysconfdir}/mer-sdk-vbox'
  - Name: sdk-sb2-config
    AsWholeName: true
    Summary: Mer SDK files to configure sb2
    Description: Contains the sdk build and install modes used by scratchbox2 in the
      SDK
    Group: System/Base
    Requires:
      - scratchbox2 = 2.3.90
    Files:
      - '%{_datadir}/scratchbox2/modes/*'
  - Name: sdk-utils
    AsWholeName: true
    Summary: Mer SDK utility scripts
    Description: Contains some utility scripts to support Mer SDK development
    Group: System/Base
    Requires:
      - rpm-build
      - python-lxml
      - sudo
    Files:
      - '%{_bindir}/mb'
      - '%{_bindir}/mb2'
      - '%{_bindir}/qb'
      - '%{_bindir}/sdk-manage'
      - '%{_bindir}/updateQtCreatorTargets'
  - Name: sdk-mer-branding
    Summary: Mer Branding for the SDK Engine
    AsWholeName: true
    Description: Splash screen for the SDK Engine
    Group: System/Base
    Provides:
      - boot-splash-screen
    Requires:
      - plymouth-lite
      - sdk-info
    Files:
      - '%{_datadir}/plymouth/splash.png'
      - '%{_sysconfdir}/sysconfig/splashfontcol'
Patches: []
